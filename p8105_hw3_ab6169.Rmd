---
title: "p8105_hw3_ab6169"
author: "Amrutha Banda"
date: "2025-10-03"
output: github_document
---

```{r}
library(tidyverse)
library(janitor)
```

## Problem 1 
```{r}
library(p8105.datasets)
data("instacart")
```

Short Description: 

```{r}
aisles_summary= 
  instacart |> 
  count(aisle, sort=TRUE)

aisles_summary |> 
  head(10) #This gives me a table that shows me top 10 aisles with the most ordered items 
```
Comments: 



Making a Plot n>10,000
```{r}
aisles_summary |> 
  filter(n > 10000) |> 
  mutate(aisle = fct_reorder(aisle, n)) |> #shows me aisles based on n (size)
  ggplot(aes(x = aisle, y = n, fill = aisle)) +
  geom_col(show.legend = FALSE) +
  coord_flip() ##flips the long aisle names
  labs(
    title = "Number of Items Ordered by Aisle (>10,000 orders)",
    x = "Aisle",
    y = "Number of Items Ordered"
  )
```
Comments: 



Table of 3 most popular items 
```{r}
instacart |> 
  filter(aisle %in% 
    c("baking ingredients", "dog food care", "packaged vegetables fruits")) |> 
  group_by(aisle, product_name) |>
  summarize(n = n()) |> 
  slice_max(order_by = n, n = 3) |> 
  knitr::kable(digits = 0)
```
Comments: 



Table of Mean Hour of the Day
```{r}
instacart |> 
  filter(product_name %in% c("Pink Lady Apples", "Coffee Ice Cream")) |> 
  group_by(product_name, order_dow) |> 
  summarize(mean_hour = mean(order_hour_of_day)) |> 
  mutate(order_dow = recode(order_dow,
  `0` = "Sun",
  `1` = "Mon", 
  `2` = "Tue",
  `3` = "Wed",
  `4` = "Thu", 
  `5` = "Fri",
  `6` = "Sat")) |> 
  pivot_wider(
    names_from = order_dow,
    values_from = mean_hour ) |> 
  knitr::kable(digits=2) 
               
```
Comments: 


## Problem 2 

Cleaning
```{r}

zipcodes_df= 
  read_csv("data/zipcodes.csv", na = c("NA", ".", "")) |> 
  janitor:: clean_names() 

zori_df = 
  read_csv("data/zori.csv", na = c("NA", ".", "")) |> 
  janitor:: clean_names() |>  
    pivot_longer(
    cols = starts_with("x20"),
    names_to = "date",
    values_to = "zori"
  ) |> 
  rename(
    zip_code= region_name) |> 
  mutate(county_name= str_remove(county_name, " County")) |> 
  rename(county= county_name) |> 
  select(-city, -metro, -region_type, -state_name, -state, ) |> 
  mutate(date = sub("^x", "", date))

```


Counting Zip code observations
```{r}
zip_obs = 
  zori_df |>
  group_by(zip_code) |>
  summarize(n_months = n_distinct(date), 
  .groups = "drop")

n_full = sum(zip_obs$n_months == 116)
n_under10 = sum(zip_obs$n_months < 10)

  
```

`r n_full` zipcodes are observed 116 times. `r n_under10 ` zipcodes are observed under 10 times. Some zipcodes are observed rarely due to having limited rental listings or being in areas that are less populated. Meanwhile, other zipcodes are shown to be observed  each month because of being in high-volume areas that are tracked by Zillow consistently.


Reader Friendly Table 
```{r}

```

There are 


## Problem 3 
